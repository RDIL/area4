MarkdownTests_task:
  # Use NodeJS container:
  container:
    image: node:latest
  # Install Markdown linter:
  InstallLinter_script: npm install -g markdownlint-cli
  # Install Markdown link checker:
  InstallLinkChecker_script: npm install -g markdown-link-check@3.7.2
  # Lint Markdown:
  MarkdownLint_script:
    - markdownlint --config=.markdownlint.yml *.md
    - markdownlint --config=.markdownlint.yml .github/*.md
    - markdownlint --config=.markdownlint.yml .github/ISSUE_TEMPLATE/*.md
    - markdownlint --config=.markdownlint.yml extras/*.md
  # Check links:
  LinkCheck_script: find . -name \*.md -exec markdown-link-check {} \;

CodeTests_task:
  # Use multiple Python containers:
  container:
    matrix:
      image: python:latest
      image: python:3.7.0
  # Install test dependencies:
  InstallTestDependencies_script:
    - python3 -m pip install -r requirements/test.txt
  # Build the package:
  BuildPackage_script:
    - bash tools/build-package.sh
  # Install new beta build:
  InstallBetaBuild_script:
    - python3 -m pip install .
  # Test the code:
  RunTests_script:
    - python3 test-code.py
